# Unified config (copy to config.ps1 and edit as needed)
# Note: keep secrets (passwords/keys) in environment variables; avoid writing to disk.

$Global:EngramHome = "C:\engram"
$Global:LogsDir    = "C:\engram\logs"
$Global:BackupDir  = "D:\engram-backups"

# Service command (replace with your actual paths)
# Tip: prefer venv's engram-gateway.exe, or `python -m engram.gateway.main`
$Global:EngramCmd  = "C:\engram\venv\Scripts\engram-gateway.exe"
$Global:EngramArgs = ""

# Engram environment variables (example)
$Global:EngramEnv = @{
  "PROJECT_KEY" = "default"
  "POSTGRES_DSN" = "postgresql://logbook_svc:<pwd>@127.0.0.1:5432/engram"
  "OPENMEMORY_BASE_URL" = "http://127.0.0.1:8080"
  "OM_API_KEY" = "<change_me>"
  "GATEWAY_PORT" = "8787"
}

# OpenMemory (Node backend)
$Global:OpenMemoryCmd  = "C:\Program Files\nodejs\node.exe"
$Global:OpenMemoryArgs = "C:\openmemory\backend\server.js"

$Global:OpenMemoryEnv = @{
  "OM_METADATA_BACKEND" = "postgres"
  "OM_PG_HOST" = "127.0.0.1"
  "OM_PG_PORT" = "5432"
  "OM_PG_DB" = "engram"
  "OM_PG_USER" = "openmemory_migrator_login"
  "OM_PG_PASSWORD" = "<change_me>"
  "OM_PG_SCHEMA" = "openmemory"
  "OM_API_KEY" = "<change_me>"
  "OM_PORT" = "8080"
  "OM_TIER" = "hybrid"
}

# Postgres
$Global:PgHost = "127.0.0.1"
$Global:PgPort = 5432
$Global:PgDb   = "engram"
$Global:PgSuperUser = "postgres"

# Ports
$Global:OpenMemoryPort = 8080
$Global:EngramPort     = 8787

# Secrets (prefer environment variables)
# $env:ENGRAM_API_KEY
# $env:OM_API_KEY
# $env:PGPASSWORD
