# ===== Project / Postgres =====
PROJECT_KEY=default
POSTGRES_DB=engram
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_PORT=5432
POSTGRES_IMAGE=pgvector/pgvector:pg16

# ===== Service accounts (required) =====
LOGBOOK_MIGRATOR_PASSWORD=change_me
LOGBOOK_SVC_PASSWORD=change_me
OPENMEMORY_MIGRATOR_PASSWORD=change_me
OPENMEMORY_SVC_PASSWORD=change_me

# ===== OpenMemory =====
# 请替换为实际可用的上游镜像
OPENMEMORY_IMAGE=ghcr.io/caviraoss/openmemory:latest
OM_PORT=8080
OM_API_KEY=change_me
OM_PG_SCHEMA=openmemory
OM_METADATA_BACKEND=postgres
OM_VECTOR_BACKEND=pgvector
OM_PG_AUTO_DDL=false

# ===== Gateway =====
GATEWAY_PORT=8787
GATEWAY_LOG_LEVEL=INFO

# ===== MinIO (optional profile) =====
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_BUCKET=engram
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

# ===== Dashboard (optional profile) =====
METABASE_PORT=3000
MB_ENCRYPTION_SECRET_KEY=change_me
PGADMIN_PORT=5050
PGADMIN_DEFAULT_EMAIL=admin@example.com
PGADMIN_DEFAULT_PASSWORD=change_me_admin

# ===== SCM Sync (scm_sync profile) =====
# 启用方式: docker compose --profile scm_sync up -d
ENGRAM_SCM_SYNC_ENABLED=true

# --- GitLab 凭证（敏感，必填）---
# 警告: 不提供默认值，必须显式设置。切勿提交到版本控制。
# GITLAB_URL=https://gitlab.example.com
# GITLAB_TOKEN=your_gitlab_token_here
# GITLAB_PRIVATE_TOKEN=your_gitlab_token_here

# --- SVN 凭证（敏感，可选）---
# 警告: 不提供默认值，必须显式设置。切勿提交到版本控制。
# SVN_USERNAME=svn_user
# SVN_PASSWORD=svn_password

# --- Scheduler 配置 ---
SCM_SCHEDULER_GLOBAL_CONCURRENCY=20
SCM_SCHEDULER_MAX_RUNNING=10
SCM_SCHEDULER_SCAN_INTERVAL_SECONDS=60

# --- Worker 配置 ---
SCM_WORKER_LEASE_SECONDS=300
SCM_WORKER_POLL_INTERVAL=10
SCM_WORKER_PARALLELISM=2

# --- Reaper 配置 ---
SCM_REAPER_INTERVAL_SECONDS=60
SCM_REAPER_JOB_GRACE_SECONDS=60
SCM_REAPER_LOCK_GRACE_SECONDS=120
