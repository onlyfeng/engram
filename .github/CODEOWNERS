# CODEOWNERS - 自动分配 PR Reviewer
# 格式: 路径模式 @用户名 或 @组织/团队名
# 详见: https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners

# ============================================================================
# Logbook: Logbook Postgres 组件
# ============================================================================
/apps/logbook_postgres/                            @engram/logbook-owners

# ============================================================================
# Gateway: OpenMemory Gateway 组件
# ============================================================================
/apps/openmemory_gateway/                          @engram/gateway-owners

# ============================================================================
# Seek: SeekDB RAG Hybrid 组件
# ============================================================================
/apps/seekdb_rag_hybrid/                           @engram/seek-owners

# ============================================================================
# OpenMemory 上游库及补丁配置
# ============================================================================
/libs/OpenMemory/                                @engram/openmemory-owners
/OpenMemory.upstream.lock.json                   @engram/openmemory-owners
/openmemory_patches.json                         @engram/openmemory-owners

# ============================================================================
# 跨边界契约: Gateway <-> Logbook 共享接口
# 修改这些文件需要 Gateway 和 Logbook 两个团队同时 Review
# ============================================================================
/schemas/**                                                             @engram/gateway-owners @engram/logbook-owners
/docs/contracts/**                                                      @engram/gateway-owners @engram/logbook-owners
/apps/logbook_postgres/scripts/engram_logbook/uri.py                    @engram/gateway-owners @engram/logbook-owners
/apps/logbook_postgres/scripts/engram_logbook/outbox.py                 @engram/gateway-owners @engram/logbook-owners
/apps/openmemory_gateway/gateway/gateway/logbook_adapter.py             @engram/gateway-owners @engram/logbook-owners
/apps/openmemory_gateway/gateway/gateway/reconcile_outbox.py            @engram/gateway-owners @engram/logbook-owners

# ============================================================================
# 基础设施: Docker Compose、脚本、构建配置
# ============================================================================
/compose/                                        @engram/infra-owners
/docker-compose.unified.yml                      @engram/infra-owners
/scripts/                                        @engram/infra-owners
/Makefile                                        @engram/infra-owners

# ============================================================================
# CI/Workflow 合约: Workflow 配置、验证脚本、合约文档
# 修改这些文件需要 Infra 和 Architecture 两个团队同时 Review
# ============================================================================
/scripts/ci/**                                                          @engram/infra-owners @engram/architecture-owners
/Makefile                                                               @engram/infra-owners @engram/architecture-owners
/.github/workflows/**                                                      @engram/infra-owners @engram/architecture-owners
/scripts/ci/workflow_contract*.json                                        @engram/infra-owners @engram/architecture-owners
/scripts/ci/validate_workflows.py                                          @engram/infra-owners @engram/architecture-owners
/docs/ci_nightly_workflow_refactor/**                                      @engram/infra-owners @engram/architecture-owners

# ============================================================================
# 文档: 文档中心及各类文档目录
# ============================================================================
/docs/README.md                                  @engram/docs-owners
/docs/architecture/**                            @engram/docs-owners @engram/architecture-owners
/docs/reference/**                               @engram/docs-owners
/docs/guides/**                                  @engram/docs-owners
/docs/legacy/**                                  @engram/docs-owners
