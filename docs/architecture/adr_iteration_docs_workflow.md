# ADR: è¿­ä»£æ–‡æ¡£å·¥ä½œæµä¸ SSOT ç­–ç•¥

| å…ƒæ•°æ® | å€¼ |
|--------|-----|
| **çŠ¶æ€** | Accepted |
| **æ—¥æœŸ** | 2026-02-01 |
| **å†³ç­–è€…** | Engram æ ¸å¿ƒå›¢é˜Ÿ |
| **å½±å“èŒƒå›´** | `docs/acceptance/`ã€`.iteration/`ã€CI artifacts |

---

## èƒŒæ™¯

éšç€é¡¹ç›®è¿­ä»£æ¨è¿›ï¼Œè¿­ä»£è®¡åˆ’å’Œå›å½’è®°å½•çš„ç®¡ç†å‡ºç°ä»¥ä¸‹é—®é¢˜ï¼š

1. **æ–‡æ¡£åˆ†æ•£**ï¼šè¿­ä»£ç›¸å…³æ–‡æ¡£æ•£è½åœ¨ `docs/architecture/`ã€`docs/acceptance/`ã€æœ¬åœ°è‰ç¨¿ç­‰ä½ç½®
2. **SSOT ä¸æ¸…æ™°**ï¼šä¸ç¡®å®šå“ªä¸ªä½ç½®æ˜¯è¿­ä»£æ–‡æ¡£çš„æƒå¨æ¥æº
3. **æœ¬åœ°è‰ç¨¿æ³„æ¼**ï¼š`.iteration/` æœ¬åœ°ç¬”è®°è¢«è¯¯å¼•ç”¨æˆ–æäº¤
4. **è¯æ®ç­–ç•¥ç¼ºå¤±**ï¼šCI äº§å‡ºçš„ artifacts ä¸ç‰ˆæœ¬åŒ–æ–‡æ¡£çš„å…³ç³»ä¸æ˜ç¡®

æœ¬ ADR è¡¥å…… [adr_docs_information_architecture.md](adr_docs_information_architecture.md) ä¸­çš„ä¿¡æ¯æ¶æ„ï¼Œä¸“é—¨å®šä¹‰è¿­ä»£æ–‡æ¡£çš„å·¥ä½œæµã€‚

---

## å†³ç­–

### 1. SSOT ç›®å½•ä¸å‘½åè§„èŒƒ

#### 1.1 è¿­ä»£æ–‡æ¡£ Canonical ä½ç½®

**æ‰€æœ‰è¿­ä»£æ–‡æ¡£çš„ SSOT ä½äº `docs/acceptance/` ç›®å½•**ã€‚

| æ–‡æ¡£ç±»å‹ | å‘½åè§„èŒƒ | è¯´æ˜ |
|----------|----------|------|
| è¿­ä»£è®¡åˆ’ | `iteration_<N>_plan.md` | è¿­ä»£ç›®æ ‡ã€èŒƒå›´ã€éªŒæ”¶é—¨ç¦ |
| å›å½’è®°å½• | `iteration_<N>_regression.md` | å›å½’æµ‹è¯•å‘½ä»¤ã€ä¿®å¤è®°å½• |
| éªŒæ”¶çŸ©é˜µ | `00_acceptance_matrix.md` | è·¨è¿­ä»£éªŒæ”¶æµ‹è¯•æ‰§è¡Œè®°å½• |

å…¶ä¸­ `<N>` ä¸ºè¿­ä»£ç¼–å·ï¼ˆæ•´æ•°ï¼Œä¸å¸¦å‰å¯¼é›¶ï¼‰ã€‚

#### 1.2 å‘½åçº¦æŸ

```
docs/acceptance/
â”œâ”€â”€ 00_acceptance_matrix.md          # éªŒæ”¶æµ‹è¯•çŸ©é˜µï¼ˆè·¨è¿­ä»£ï¼‰
â”œâ”€â”€ iteration_1_plan.md              # Iteration 1 è®¡åˆ’
â”œâ”€â”€ iteration_1_regression.md        # Iteration 1 å›å½’
â”œâ”€â”€ iteration_2_plan.md              # Iteration 2 è®¡åˆ’
â”œâ”€â”€ iteration_2_regression.md        # Iteration 2 å›å½’
â”œâ”€â”€ ...
â””â”€â”€ iteration_<N>_{plan,regression}.md
```

**å‘½åè§„åˆ™**ï¼š

- æ–‡ä»¶åä½¿ç”¨å°å†™å­—æ¯å’Œä¸‹åˆ’çº¿
- è¿­ä»£ç¼–å·ä¸ºæ•´æ•°ï¼Œä¾‹å¦‚ `iteration_10_plan.md`ï¼ˆé `iteration_010_plan.md`ï¼‰
- åç¼€å›ºå®šä¸º `_plan` æˆ– `_regression`ï¼Œä¸å¾—ä½¿ç”¨å…¶ä»–å‘½å

#### 1.3 å†…å®¹æ¨¡æ¿

**è¿­ä»£è®¡åˆ’æ¨¡æ¿** (`iteration_<N>_plan.md`):

```markdown
# Iteration <N> è®¡åˆ’

> **çŠ¶æ€**: è¿›è¡Œä¸­ | å·²å®Œæˆ | å·²å–æ¶ˆ
> **æ—¶é—´èŒƒå›´**: YYYY-MM-DD ~ YYYY-MM-DD
> **å‰ç½®è¿­ä»£**: [Iteration <N-1>](iteration_<N-1>_regression.md)

## ç›®æ ‡

- [ ] ç›®æ ‡ 1
- [ ] ç›®æ ‡ 2

## èŒƒå›´

### åŒ…å«

- ä»»åŠ¡ A
- ä»»åŠ¡ B

### æ’é™¤

- ä¸åœ¨æœ¬è¿­ä»£èŒƒå›´çš„å†…å®¹

## éªŒæ”¶é—¨ç¦

| é—¨ç¦ | å‘½ä»¤ | é€šè¿‡æ ‡å‡† |
|------|------|----------|
| CI é€šè¿‡ | `make ci` | å…¨éƒ¨é€šè¿‡ |
| ... | ... | ... |

## é£é™©ä¸ç¼“è§£

| é£é™© | ç¼“è§£æªæ–½ |
|------|----------|
| ... | ... |
```

**å›å½’è®°å½•æ¨¡æ¿** (`iteration_<N>_regression.md`):

```markdown
# Iteration <N> å›å½’ Runbook

> **è¿­ä»£è®¡åˆ’**: [iteration_<N>_plan.md](iteration_<N>_plan.md)
> **çŠ¶æ€**: è¿›è¡Œä¸­ | å·²å®Œæˆ

## å›å½’æµ‹è¯•å‘½ä»¤

```bash
make ci
make test
# å…¶ä»–å›å½’å‘½ä»¤
```

## ä¿®å¤è®°å½•

| æ—¥æœŸ | é—®é¢˜ | ä¿®å¤ | PR |
|------|------|------|-----|
| YYYY-MM-DD | é—®é¢˜æè¿° | ä¿®å¤è¯´æ˜ | #123 |

## å·²çŸ¥é—®é¢˜

- [ ] å¾…ä¿®å¤é—®é¢˜åˆ—è¡¨
```

---

### 2. `.iteration/` æœ¬åœ°è‰ç¨¿å®šä½

#### 2.1 å®šä½å£°æ˜

**`.iteration/` ç›®å½•ä»…ç”¨äºæœ¬åœ°è‰ç¨¿å’Œä¸´æ—¶ç¬”è®°**ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **ç‰ˆæœ¬æ§åˆ¶** | å·²åœ¨ `.gitignore` ä¸­æ’é™¤ï¼Œ**ä¸çº³å…¥ç‰ˆæœ¬æ§åˆ¶** |
| **æƒå¨æ€§** | **é SSOT**ï¼Œä¸ä½œä¸ºé¡¹ç›®æ–‡æ¡£çš„æƒå¨æ¥æº |
| **å¼•ç”¨çº¦æŸ** | å¯åœ¨å£å¤´/æ³¨é‡Šä¸­æåŠï¼Œ**ç¦æ­¢ Markdown é“¾æ¥å¼•ç”¨** |
| **ç”Ÿå‘½å‘¨æœŸ** | ä»…åœ¨æœ¬åœ°å¼€å‘æœŸé—´å­˜åœ¨ï¼Œéšæ—¶å¯åˆ é™¤ |

#### 2.2 å¼•ç”¨çº¦æŸ

| ç±»å‹ | ç¤ºä¾‹ | å…è®¸ |
|------|------|------|
| **Markdown é“¾æ¥** | å¦‚ `[text]` + `(.iteration/...)` å½¢å¼ | âŒ **ç¦æ­¢** |
| **æ–‡æœ¬æåŠ** | `å‚è€ƒæœ¬åœ° .iteration/13/ ä¸­çš„è‰ç¨¿` | âœ… å…è®¸ |
| **inline code æåŠ** | `æœ¬åœ°è‰ç¨¿ä½äº \`.iteration/13/plan.md\`` | âœ… å…è®¸ |

**å…è®¸çš„å¼•ç”¨æ–¹å¼**ï¼š

```markdown
<!-- åœ¨ä»£ç æ³¨é‡Šæˆ–å£å¤´äº¤æµä¸­ -->
# å‚è€ƒæœ¬åœ° .iteration/notes.md ä¸­çš„è‰ç¨¿æ€è·¯

<!-- åœ¨ç‰ˆæœ¬åŒ–æ–‡æ¡£ä¸­ç”¨æ–‡æœ¬æåŠï¼ˆéé“¾æ¥ï¼‰ -->
æœ¬åœ°è‰ç¨¿ä½äº `.iteration/13/plan.md`ï¼Œæ™‹å‡åå°†è¿ç§»è‡³ docs/acceptance/
```

**ç¦æ­¢çš„å¼•ç”¨æ–¹å¼**ï¼š

```markdown
<!-- ç¦æ­¢åœ¨ç‰ˆæœ¬åŒ–æ–‡æ¡£ä¸­ä½¿ç”¨ Markdown é“¾æ¥ -->
è¯¦è§ [æœ¬åœ°ç¬”è®°](.iteration/notes.md)   <!-- âŒ ç¦æ­¢ -->
å‚è€ƒ [è‰ç¨¿](./.iteration/draft.md)    <!-- âŒ ç¦æ­¢ -->
```

**ç†ç”±**ï¼š

1. `.iteration/` ä¸åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œé“¾æ¥å¿…ç„¶å¤±æ•ˆ
2. é¿å…å°†é SSOT å†…å®¹è¯¯è®¤ä¸ºæƒå¨æ–‡æ¡£
3. ä¿æŒç‰ˆæœ¬åŒ–æ–‡æ¡£çš„è‡ªåŒ…å«æ€§
4. CI é—¨ç¦ (`make check-iteration-docs`) ä¼šæ£€æµ‹å¹¶æ‹’ç» Markdown é“¾æ¥

#### 2.3 è¿ç§»è·¯å¾„

å½“ `.iteration/` ä¸­çš„è‰ç¨¿æˆç†Ÿæ—¶ï¼Œåº”è¿ç§»åˆ° SSOT ä½ç½®ï¼š

```
.iteration/iteration_5_draft.md
        â†“ æˆç†Ÿåè¿ç§»
docs/acceptance/iteration_5_plan.md
```

#### 2.4 è·¨äººåä½œä¸å¯é“¾æ¥å¼•ç”¨

##### å­˜åœ¨æ€§å£°æ˜

**`.iteration/` çš„å­˜åœ¨æ€§ä¸ä¿è¯**ï¼š

- `.iteration/` ç›®å½•ä¸º**æœ¬åœ°è‰ç¨¿**ï¼Œåœ¨ `.gitignore` ä¸­æ’é™¤ï¼Œ**ä¸çº³å…¥ç‰ˆæœ¬æ§åˆ¶**
- **æ¯ä¸ªå¼€å‘è€…çš„ `.iteration/` å†…å®¹ä¸åŒ**ï¼šç›®å½•å¯èƒ½ä¸å­˜åœ¨ã€å†…å®¹å¯èƒ½ä¸åŒã€éšæ—¶å¯èƒ½è¢«åˆ é™¤æˆ–é‡å»º
- å› æ­¤ï¼Œ**ä»»ä½•æŒ‡å‘ `.iteration/` çš„é“¾æ¥å¿…ç„¶ä¸ç¨³å®š**ï¼Œæ— æ³•åœ¨è·¨äººåœºæ™¯ä¸­å¯é å·¥ä½œ

##### è·¨äººåä½œåœºæ™¯çš„å…¥å£é€‰æ‹©

å½“éœ€è¦**è·¨äººåä½œ**æˆ–**å¯é“¾æ¥å¼•ç”¨**æ—¶ï¼Œä¸è¦ä¾èµ– `.iteration/`ï¼Œåº”æ ¹æ®åœºæ™¯é€‰æ‹©ä»¥ä¸‹å…¥å£ï¼š

| åœºæ™¯ | æ¨èå…¥å£ | è¯´æ˜ |
|------|----------|------|
| **éœ€è¦å¯é“¾æ¥å¼•ç”¨** | `docs/acceptance/` SSOT | ç‰ˆæœ¬åŒ–ã€æ°¸ä¹…æœ‰æ•ˆã€å›¢é˜Ÿå…±äº« |
| **çŸ­æœŸåä½œåˆ†äº«** | å¯¼å‡ºåˆ†äº«åŒ… | ä½¿ç”¨ `export_local_iteration.py` ç”Ÿæˆå¯åˆ†äº«çš„æ–‡æ¡£åŒ… |
| **ä»…æç¤ºè·¯å¾„ï¼ˆéé“¾æ¥ï¼‰** | æ–‡æœ¬ / inline code | ä¾‹å¦‚ `å‚è€ƒ .iteration/13/` æˆ– `` `.iteration/13/plan.md` `` |

##### å…¥å£é€‰æ‹©å†³ç­–

```
æ˜¯å¦éœ€è¦è·¨äººåä½œ / å¯é“¾æ¥å¼•ç”¨ï¼Ÿ
    â”‚
    â”œâ”€ å¦ï¼ˆä»…æœ¬åœ°ä½¿ç”¨ï¼‰
    â”‚     â†’ ç›´æ¥ä½¿ç”¨ .iteration/
    â”‚
    â””â”€ æ˜¯ â†’ é€‰æ‹©å…¥å£ç±»å‹
              â”‚
              â”œâ”€ éœ€è¦æ°¸ä¹…å¯é“¾æ¥ï¼Ÿ
              â”‚     â†’ SSOTï¼šdocs/acceptance/iteration_<N>_*.md
              â”‚        ï¼ˆéœ€å…ˆå®Œæˆæ™‹å‡æµç¨‹ï¼‰
              â”‚
              â”œâ”€ çŸ­æœŸåä½œï¼ˆæœªæ™‹å‡è‰ç¨¿ï¼‰ï¼Ÿ
              â”‚     â†’ ä½¿ç”¨å¯¼å‡ºè„šæœ¬ç”Ÿæˆåˆ†äº«åŒ…ï¼š
              â”‚        python scripts/iteration/export_local_iteration.py 13
              â”‚
              â””â”€ ä»…æç¤ºè·¯å¾„ï¼ˆä¸éœ€è¦é“¾æ¥å¯ç‚¹å‡»ï¼‰ï¼Ÿ
                    â†’ æ–‡æœ¬/inline code æåŠï¼š
                       "å‚è€ƒ `.iteration/13/plan.md`"
```

##### ç¤ºä¾‹

**âŒ é”™è¯¯åšæ³•**ï¼ˆè·¨äººåœºæ™¯ä¾èµ– `.iteration/`ï¼‰ï¼š

```markdown
<!-- åœ¨ç‰ˆæœ¬åŒ–æ–‡æ¡£æˆ– PR æè¿°ä¸­ä½¿ç”¨ Markdown é“¾æ¥ -->
è¯¦è§ [è¿­ä»£è®¡åˆ’](.iteration/13/plan.md)   <!-- âŒ é“¾æ¥å¿…ç„¶ä¸ç¨³å®š -->
```

**âœ… æ­£ç¡®åšæ³•**ï¼ˆæŒ‰åœºæ™¯é€‰æ‹©å…¥å£ï¼‰ï¼š

```markdown
<!-- åœºæ™¯ 1ï¼šéœ€è¦å¯é“¾æ¥å¼•ç”¨ â†’ ä½¿ç”¨ SSOT -->
è¯¦è§ [Iteration 13 è®¡åˆ’](docs/acceptance/iteration_13_plan.md)

<!-- åœºæ™¯ 2ï¼šçŸ­æœŸåä½œ â†’ ç”Ÿæˆåˆ†äº«åŒ…åé™„ä»¶å‘é€ -->
# åœ¨æœ¬åœ°æ‰§è¡Œï¼Œæ‰“åŒ…ä¸º zipï¼ˆæ¨èï¼‰
python scripts/iteration/export_local_iteration.py 13 --output-zip /tmp/iteration_13_draft.zip
# ç„¶åé€šè¿‡ Slack / é‚®ä»¶å‘é€è¯¥ zip æ–‡ä»¶

<!-- åœºæ™¯ 3ï¼šä»…æç¤ºè·¯å¾„ â†’ æ–‡æœ¬ / inline code -->
æœ¬åœ°è‰ç¨¿ä½äº `.iteration/13/plan.md`ï¼Œæ™‹å‡åå°†è¿ç§»è‡³ docs/acceptance/
```

---

### 3. è¯æ®ç­–ç•¥

#### 3.1 è¯æ®åˆ†ç±»

| ç±»åˆ« | å­˜å‚¨ä½ç½® | ç‰ˆæœ¬åŒ– | SSOT | ç¤ºä¾‹ |
|------|----------|--------|------|------|
| **è§„èŒƒæ€§æ–‡æ¡£** | `docs/` | æ˜¯ | æ˜¯ | è¿­ä»£è®¡åˆ’ã€å›å½’è®°å½•ã€ADR |
| **æµ‹è¯•ç»“æœå¿«ç…§** | `docs/` æˆ– PR æè¿° | æ˜¯ | æ˜¯ | å…³é”®æµ‹è¯•è¾“å‡ºçš„æ–‡æœ¬æ‘˜è¦ |
| **CI Artifacts** | CI ç³»ç»Ÿ | å¦ | å¦ | å®Œæ•´æµ‹è¯•æŠ¥å‘Šã€è¦†ç›–ç‡æŠ¥å‘Šã€æ„å»ºæ—¥å¿— |
| **Nightly å®¡è®¡æŠ¥å‘Š** | CI Artifacts | å¦ | å¦ | è¿­ä»£æ–‡æ¡£å®¡è®¡å¿«ç…§ï¼ˆ90 å¤©ä¿ç•™ï¼‰ |
| **æœ¬åœ°è‰ç¨¿** | `.iteration/` | å¦ | å¦ | ä¸´æ—¶ç¬”è®°ã€WIP è®¡åˆ’ |

#### 3.2 å…¥åº“ç­–ç•¥ï¼ˆç‰ˆæœ¬åŒ–è¯æ®ï¼‰

**éœ€è¦å…¥åº“çš„è¯æ®**ï¼š

| è¯æ®ç±»å‹ | å…¥åº“ä½ç½® | å…¥åº“æ¡ä»¶ |
|----------|----------|----------|
| è¿­ä»£è®¡åˆ’ | `docs/acceptance/iteration_<N>_plan.md` | è¿­ä»£å¼€å§‹å‰ |
| å›å½’è®°å½• | `docs/acceptance/iteration_<N>_regression.md` | è¿­ä»£è¿›è¡Œä¸­/å®Œæˆå |
| å…³é”®æµ‹è¯•è¾“å‡º | å†…åµŒåœ¨å›å½’è®°å½•æˆ– PR æè¿°ä¸­ | éªŒæ”¶ç›¸å…³çš„æµ‹è¯•ç»“æœ |
| é—¨ç¦é€šè¿‡è¯æ® | å†…åµŒåœ¨ `00_acceptance_matrix.md` | éªŒæ”¶æ£€æŸ¥ç‚¹å®Œæˆæ—¶ |

**å…¥åº“æ ¼å¼**ï¼š

```markdown
## éªŒæ”¶è¯æ®

### CI é—¨ç¦

```bash
$ make ci
âœ… lint: passed
âœ… typecheck-gate: passed
âœ… test: 142 passed, 0 failed
```

> **CI Run**: [GitHub Actions #1234](https://github.com/...)
```

#### 3.3 CI Artifacts ç­–ç•¥ï¼ˆéç‰ˆæœ¬åŒ–è¯æ®ï¼‰

**CI Artifacts ä¸ä½œä¸º SSOT**ï¼Œä½†å¯é€šè¿‡ä»¥ä¸‹æ–¹å¼å¼•ç”¨ï¼š

| å¼•ç”¨æ–¹å¼ | ç¤ºä¾‹ | è¯´æ˜ |
|----------|------|------|
| **CI Run é“¾æ¥** | `[CI #1234](https://...)` | é“¾æ¥åˆ° CI è¿è¡Œé¡µé¢ |
| **Artifact ä¸‹è½½é“¾æ¥** | GitHub Actions äº§å‡º | æœ‰æ—¶æ•ˆæ€§ï¼Œé€šå¸¸ 90 å¤© |
| **æ‘˜è¦åµŒå…¥** | å°†å…³é”®è¾“å‡ºç²˜è´´åˆ°æ–‡æ¡£ | æŒä¹…åŒ–å…³é”®ä¿¡æ¯ |

**åœ¨æ–‡æ¡£ä¸­å¼•ç”¨ CI Artifacts**ï¼š

```markdown
## æµ‹è¯•æŠ¥å‘Š

å®Œæ•´æµ‹è¯•æŠ¥å‘Šè§ [CI Run #1234](https://github.com/.../actions/runs/1234) çš„ Artifactsã€‚

å…³é”®æŒ‡æ ‡æ‘˜è¦ï¼š
- æµ‹è¯•é€šè¿‡ç‡: 100% (142/142)
- è¦†ç›–ç‡: 85.2%
- Lint é”™è¯¯: 0
```

#### 3.4 Nightly å®¡è®¡æŠ¥å‘Šç­–ç•¥

**Nightly å®¡è®¡æŠ¥å‘Šå®šä½**ï¼š

| å±æ€§ | å€¼ |
|------|-----|
| **æ¥æº** | `nightly.yml` ä¸­çš„ `iteration-audit` job |
| **ç”Ÿæˆå‘½ä»¤** | `make iteration-audit` |
| **è¾“å‡ºç›®å½•** | `.artifacts/iteration-audit/` |
| **Artifact åç§°** | `iteration-audit-<run_number>-<run_id>` |
| **ä¿ç•™å‘¨æœŸ** | 90 å¤© |
| **SSOT çŠ¶æ€** | **å¦**ï¼ˆä»…è§‚å¯Ÿæ€§æŠ¥å‘Šï¼‰ |
| **é˜»æ–­è¡Œä¸º** | **éé˜»æ–­**ï¼ˆå®¡è®¡é—®é¢˜ä¸å½±å“ Nightly æµæ°´çº¿çŠ¶æ€ï¼‰ |

**å®šä½è¯´æ˜**ï¼š

- **ä»…è§‚å¯Ÿ**ï¼šNightly å®¡è®¡æŠ¥å‘Šç”¨äºå®šæœŸè§‚å¯Ÿè¿­ä»£æ–‡æ¡£çš„ä¸€è‡´æ€§çŠ¶æ€ï¼Œ**ä¸ä½œä¸º SSOT**
- **éé˜»æ–­**ï¼šå®¡è®¡å‘ç°çš„é—®é¢˜ä»…äº§ç”Ÿè­¦å‘Šï¼Œä¸é˜»æ–­ Nightly æµæ°´çº¿
- **å›æº¯æ€§**ï¼š90 å¤©ä¿ç•™æœŸä¾¿äºæŒ‰æ—¥æœŸå›æº¯å†å²å®¡è®¡çŠ¶æ€
- **ä¸ CI é—¨ç¦çš„å…³ç³»**ï¼šé˜»æ–­å¼æ£€æŸ¥ç”± `make check-iteration-docs` è´Ÿè´£ï¼ˆåœ¨ PR CI ä¸­æ‰§è¡Œï¼‰ï¼ŒNightly å®¡è®¡ä¸ºè¡¥å……è§‚å¯Ÿ

**ä½¿ç”¨åœºæ™¯**ï¼š

1. **å®šæœŸå·¡æ£€**ï¼šæ¯æ—¥è‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€äººå·¥è§¦å‘
2. **é—®é¢˜è¿½æº¯**ï¼šå½“å‘ç°æ–‡æ¡£ä¸€è‡´æ€§é—®é¢˜æ—¶ï¼Œå¯å›æº¯å†å²æŠ¥å‘Šå®šä½å¼•å…¥æ—¶é—´
3. **å®¡è®¡ç•™ç—•**ï¼šä¸ºä»£ç å®¡æŸ¥æˆ–åˆè§„éœ€æ±‚æä¾›å†å²è¯æ®

#### 3.5 ç‰ˆæœ¬åŒ–è¯æ®æ–‡ä»¶

**å®šä¹‰**ï¼šç‰ˆæœ¬åŒ–è¯æ®æ–‡ä»¶æ˜¯æŒ‡çº³å…¥ Git ç‰ˆæœ¬æ§åˆ¶ã€ç”¨äºè®°å½•è¿­ä»£éªŒæ”¶è¯æ®çš„ç»“æ„åŒ–æ–‡ä»¶ã€‚

**å­˜å‚¨ä½ç½®**ï¼š`docs/acceptance/evidence/`

**å‘½åè§„èŒƒï¼ˆç»Ÿä¸€ï¼‰**ï¼š

| ç±»å‹ | æ ¼å¼ | ç¤ºä¾‹ | è¯´æ˜ |
|------|------|------|------|
| **Canonicalï¼ˆè§„èŒƒï¼‰** | `iteration_<N>_evidence.json` | `iteration_13_evidence.json` | å•ä¸€è¿­ä»£çš„ç»¼åˆè¯æ®æ–‡ä»¶ï¼Œ**æ¨èä½¿ç”¨**ï¼Œæ¯æ¬¡æ›´æ–°è¦†ç›– |
| **Snapshotï¼ˆå¿«ç…§ï¼‰** | `iteration_<N>_<YYYYMMDD_HHMMSS>.json` | `iteration_13_20260202_143000.json` | å†å²å¿«ç…§ï¼Œç”¨äºéœ€è¦ä¿ç•™å¤šæ¬¡éªŒæ”¶è®°å½•çš„åœºæ™¯ |
| **Snapshot+SHA** | `iteration_<N>_<YYYYMMDD_HHMMSS>_<sha7>.json` | `iteration_13_20260202_143000_abc1234.json` | å¸¦ commit SHA çš„å†å²å¿«ç…§ |

**ç”Ÿæˆæ–¹å¼**ï¼š

| ç±»å‹ | ç”Ÿæˆå‘½ä»¤ | è¯´æ˜ |
|------|----------|------|
| Canonical | `python scripts/iteration/record_iteration_evidence.py <N>` | è„šæœ¬é»˜è®¤è¾“å‡ºï¼Œè¦†ç›–å·²æœ‰æ–‡ä»¶ |
| Snapshot | æ‰‹åŠ¨å¤åˆ¶ï¼š`cp iteration_<N>_evidence.json iteration_<N>_<YYYYMMDD_HHMMSS>.json` | éœ€ä¿ç•™å†å²æ—¶æ‰‹åŠ¨åˆ›å»º |

**å›å½’æ–‡æ¡£å¼•ç”¨ç­–ç•¥**ï¼š

åœ¨ `iteration_<N>_regression.md` ä¸­å¼•ç”¨è¯æ®æ–‡ä»¶æ—¶ï¼Œ**æ¨èä½¿ç”¨ canonical æ–‡ä»¶**ï¼š

```markdown
## éªŒæ”¶è¯æ®

è¯¦ç»†è¯æ®è§ [iteration_13_evidence.json](evidence/iteration_13_evidence.json)ã€‚
```

å¦‚æœ‰å¤šæ¬¡éªŒæ”¶éœ€è¦è¿½æº¯ï¼Œå¯åŒæ—¶å¼•ç”¨å¿«ç…§ï¼š

```markdown
## éªŒæ”¶è¯æ®

- æœ€æ–°è¯æ®ï¼š[iteration_13_evidence.json](evidence/iteration_13_evidence.json)
- å†å²å¿«ç…§ï¼š[iteration_13_20260201_103000.json](evidence/iteration_13_20260201_103000.json)ï¼ˆé¦–æ¬¡éªŒæ”¶ï¼‰
```

**æ ¼å¼ SSOT**ï¼š[schemas/iteration_evidence_v2.schema.json](../../schemas/iteration_evidence_v2.schema.json)ï¼ˆv1 ä½œä¸º legacy å…¼å®¹ï¼›å½“å‰é»˜è®¤ç‰ˆæœ¬ç”± `scripts/iteration/iteration_evidence_schema.py` ç»Ÿä¸€ç®¡ç†ï¼‰

**æ¼”è¿›ç­–ç•¥ï¼ˆEvidence v2 â†’ v3ï¼‰**ï¼š
- **non-breaking**ï¼šæ–°å¢å¯é€‰å­—æ®µæˆ–æ ¡éªŒç»†åŒ– â†’ æ›´æ–° v2 schema + æ¨¡æ¿ + fixturesã€‚
- **breaking**ï¼šç»“æ„/å­—æ®µå˜æ›´ â†’ æ–°å¢ `iteration_evidence_v3.schema.json`ï¼Œæ›´æ–° `iteration_evidence_schema.py` é»˜è®¤æŒ‡å‘ v3ï¼Œä¿ç•™ v2ï¼›ç¦æ­¢è¦†ç›–æ—§ç‰ˆæœ¬ã€‚
- å†å²è¯æ®å‡çº§ä»¥è„šæœ¬é‡ç”Ÿä¸ºä¸»ï¼ˆ`record_iteration_evidence.py`ï¼‰ï¼Œé¿å…æ‰‹å·¥ç¼–è¾‘ JSONã€‚

**Schema çº¦æŸæ‘˜è¦**ï¼š

| å­—æ®µ | å¿…å¡« | è¯´æ˜ |
|------|------|------|
| `iteration_number` | âœ… | è¿­ä»£ç¼–å·ï¼ˆæ­£æ•´æ•°ï¼‰ |
| `recorded_at` | âœ… | è®°å½•æ—¶é—´ï¼ˆISO 8601 UTCï¼‰ |
| `commit_sha` | âœ… | Git commit SHAï¼ˆ7-40 å­—ç¬¦ï¼‰ |
| `runner` | âœ… | æ‰§è¡Œç¯å¢ƒï¼ˆos/python/arch å¿…å¡«ï¼‰ |
| `commands` | âœ… | é—¨ç¦å‘½ä»¤æ•°ç»„ï¼ˆname/command/result å¿…å¡«ï¼‰ |
| `links` | âŒ | å¯é€‰é“¾æ¥ï¼ˆci_run_urlã€pr_url ç­‰ï¼‰ |
| `notes` | âŒ | è¡¥å……è¯´æ˜ |
| `overall_result` | âŒ | æ•´ä½“ç»“æœï¼ˆPASS/PARTIAL/FAILï¼‰ |

**å®‰å…¨çº¦æŸ**ï¼šSchema æ˜ç¡®ç¦æ­¢åœ¨ä»»ä½•å­—æ®µä¸­åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ã€API å¯†é’¥ã€DSN åŸæ–‡ã€å†…éƒ¨ IP ç­‰ï¼‰ã€‚

**æ–‡ä»¶å†…å®¹ç¤ºä¾‹**ï¼š

```json
{
  "$schema": "./iteration_evidence_v2.schema.json",
  "iteration_number": 13,
  "recorded_at": "2026-02-02T14:30:22Z",
  "commit_sha": "abc1234def5678901234567890abcdef12345678",
  "runner": {
    "os": "ubuntu-22.04",
    "python": "3.11.9",
    "arch": "x86_64"
  },
  "commands": [
    {
      "name": "ci",
      "command": "make ci",
      "result": "PASS",
      "summary": "æ‰€æœ‰æ£€æŸ¥é€šè¿‡",
      "duration_seconds": 45
    }
  ],
  "links": {
    "ci_run_url": "https://github.com/.../actions/runs/1234"
  },
  "notes": "æ‰€æœ‰æœ€å°é—¨ç¦é€šè¿‡",
  "overall_result": "PASS",
  "sensitive_data_declaration": true
}
```

**ä¸ `.artifacts/` çš„åŒºåˆ«**ï¼š

| å±æ€§ | `docs/acceptance/evidence/` | `.artifacts/` |
|------|----------------------------|---------------|
| **ç‰ˆæœ¬æ§åˆ¶** | âœ… çº³å…¥ Git | âŒ åœ¨ `.gitignore` ä¸­æ’é™¤ |
| **SSOT** | âœ… ä½œä¸ºè¿­ä»£è¯æ®çš„ SSOT | âŒ é SSOTï¼Œä»…è¿è¡Œæ—¶äº§ç‰© |
| **Markdown é“¾æ¥** | âœ… å…è®¸ | âŒ **ç¦æ­¢** |
| **ç”Ÿå‘½å‘¨æœŸ** | æ°¸ä¹…ä¿ç•™ | ä¸´æ—¶äº§ç‰©ï¼ŒCI 90 å¤©ä¿ç•™ |

**`.artifacts/` å¼•ç”¨çº¦æŸ**ï¼š

`.artifacts/` ä¸ `.iteration/` ä¸€æ ·ï¼Œ**ä¸å¾—åœ¨ç‰ˆæœ¬åŒ–æ–‡æ¡£ä¸­ä»¥ Markdown é“¾æ¥å½¢å¼å‡ºç°**ã€‚

| ç±»å‹ | ç¤ºä¾‹ | å…è®¸ |
|------|------|------|
| **Markdown é“¾æ¥** | `[æŠ¥å‘Š](.artifacts/test-results.xml)` | âŒ **ç¦æ­¢** |
| **æ–‡æœ¬æåŠ** | `æœ¬åœ°äº§ç‰©ä½äº .artifacts/acceptance-runs/` | âœ… å…è®¸ |
| **inline code æåŠ** | `` `.artifacts/acceptance-unified-min/summary.json` `` | âœ… å…è®¸ |

**ç†ç”±**ï¼š

1. `.artifacts/` ä¸åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œé“¾æ¥å¿…ç„¶å¤±æ•ˆ
2. åŒä¸€ commit åœ¨ä¸åŒæœºå™¨ä¸Šçš„ `.artifacts/` å†…å®¹ä¸åŒ
3. CI äº§ç‰©æœ‰ä¿ç•™æœŸé™ï¼ˆé€šå¸¸ 30-90 å¤©ï¼‰ï¼Œé“¾æ¥ä¼šè¿‡æœŸ

**è¯æ®æ–‡ä»¶å ä½ç¬¦/è‰ç¨¿ç­–ç•¥**ï¼š

| åœºæ™¯ | ç­–ç•¥ | è¯´æ˜ |
|------|------|------|
| **æ­£å¼è¯æ®** | ä½¿ç”¨ `record_iteration_evidence.py` è„šæœ¬ç”Ÿæˆ | âœ… æ¨èï¼Œè‡ªåŠ¨è„±æ•ã€æ ¼å¼åˆè§„ |
| **å ä½ç¬¦/è‰ç¨¿** | âŒ **ç¦æ­¢æäº¤åˆ°ç‰ˆæœ¬åº“** | æ¨¡æ¿ä»…ä¾›å‚è€ƒï¼Œä¸è¦æ‰‹åŠ¨åˆ›å»ºè‰ç¨¿æ–‡ä»¶æäº¤ |
| **æµ‹è¯•/è°ƒè¯•** | ä½¿ç”¨ `--dry-run` é¢„è§ˆ | è„šæœ¬æ”¯æŒé¢„è§ˆæ¨¡å¼ï¼Œä¸å®é™…å†™å…¥ |

**æ¨èæµç¨‹**ï¼š

```
1. è¿è¡Œé—¨ç¦å‘½ä»¤ï¼ˆmake ci ç­‰ï¼‰
            â†“
2. ä½¿ç”¨ record_iteration_evidence.py ç”Ÿæˆè¯æ®
            â†“
3. éªŒè¯ç”Ÿæˆçš„ JSON ç¬¦åˆ schema
            â†“
4. æäº¤åˆ°ç‰ˆæœ¬åº“ï¼ˆgit add docs/acceptance/evidence/ï¼‰
```

**ç¦æ­¢çš„åšæ³•**ï¼š

- âŒ æ‰‹åŠ¨åˆ›å»ºåŒ…å« `{PLACEHOLDER}` æˆ– `TODO` çš„è‰ç¨¿è¯æ®æ–‡ä»¶å¹¶æäº¤
- âŒ å¤åˆ¶æ¨¡æ¿æ–‡ä»¶åˆ° `evidence/` ç›®å½•å¹¶æ‰‹åŠ¨ç¼–è¾‘
- âŒ æäº¤ä¸å®Œæ•´æˆ–æœªè„±æ•çš„è¯æ®æ–‡ä»¶

**æ¨¡æ¿ç”¨é€”**ï¼š`docs/acceptance/_templates/iteration_evidence.template.json` ä»…ç”¨äºï¼š

- æ–‡æ¡£å‚è€ƒï¼ˆäº†è§£å­—æ®µå«ä¹‰ï¼‰
- è„šæœ¬å¼€å‘å‚è€ƒ
- **ä¸ç”¨äºç›´æ¥å¤åˆ¶ç”Ÿæˆè¯æ®æ–‡ä»¶**

**å¯æ‰§è¡Œæ¸…å•ï¼ˆç”Ÿæˆåˆè§„è¯æ®æ–‡ä»¶ï¼‰**ï¼š

ç…§åšä»¥ä¸‹æ­¥éª¤å³å¯å¾—åˆ°ç¬¦åˆè§„èŒƒçš„ç‰ˆæœ¬åŒ–è¯æ®æ–‡ä»¶ï¼š

```bash
# ====== æ­¥éª¤ 1ï¼šè¿è¡Œé—¨ç¦å‘½ä»¤ ======
make ci
# è®°å½•è¿è¡Œç»“æœï¼ˆé€€å‡ºç ã€å…³é”®è¾“å‡ºï¼‰

# ====== æ­¥éª¤ 2ï¼šç”Ÿæˆè¯æ®æ–‡ä»¶ ======
# åŸºæœ¬ç”¨æ³•ï¼ˆè‡ªåŠ¨è·å– commit shaï¼‰
python scripts/iteration/record_iteration_evidence.py <N>

# æ¨èï¼šæŒ‡å®š CI è¿è¡Œ URL
python scripts/iteration/record_iteration_evidence.py <N> \
  --ci-run-url https://github.com/<org>/<repo>/actions/runs/<run_id>

# å¯é€‰ï¼šä¼ å…¥å‘½ä»¤æ‰§è¡Œç»“æœ
python scripts/iteration/record_iteration_evidence.py <N> \
  --commands '{"make ci": {"exit_code": 0, "summary": "passed"}}'

# ====== æ­¥éª¤ 3ï¼šéªŒè¯ schema åˆè§„ ======
# å¯é€‰ä½†æ¨èï¼šä½¿ç”¨ jsonschema æ ¡éªŒ
python -c "
import json
from jsonschema import validate
with open('schemas/iteration_evidence_v1.schema.json') as f:
    schema = json.load(f)
with open('docs/acceptance/evidence/iteration_<N>_evidence.json') as f:
    data = json.load(f)
validate(data, schema)
print('âœ… Schema æ ¡éªŒé€šè¿‡')
"

# ====== æ­¥éª¤ 4ï¼šæäº¤åˆ°ç‰ˆæœ¬åº“ ======
git add docs/acceptance/evidence/iteration_<N>_evidence.json
git commit -m "evidence: Iteration <N> éªŒæ”¶è¯æ®"
```

**æ£€æŸ¥æ¸…å•**ï¼š

| # | æ£€æŸ¥é¡¹ | é€šè¿‡æ ‡å‡† |
|---|--------|----------|
| 1 | æ–‡ä»¶å‘½å | `iteration_<N>_evidence.json`ï¼ˆN ä¸ºæ•´æ•°ï¼‰ |
| 2 | å­˜å‚¨ä½ç½® | `docs/acceptance/evidence/` ç›®å½•ä¸‹ |
| 3 | Schema å£°æ˜ | åŒ…å« `"$schema": "..."` å­—æ®µ |
| 4 | å¿…å¡«å­—æ®µ | `iteration_number`, `recorded_at`, `commit_sha`, `runner`, `commands` |
| 5 | æ•æ„Ÿä¿¡æ¯ | æ—  PASSWORD/DSN/TOKEN ç­‰æ•æ„Ÿå€¼ï¼ˆè„šæœ¬è‡ªåŠ¨è„±æ•ï¼‰ |
| 6 | æ ¼å¼ | JSON æ ¼å¼æ­£ç¡®ï¼Œç¼©è¿› 2 ç©ºæ ¼ |

#### 3.6 è¯æ®å¼•ç”¨è§„èŒƒ

**æ¨èå¼•ç”¨æ ¼å¼**ï¼š

| è¯æ®æ¥æº | å¼•ç”¨æ ¼å¼ | ç¤ºä¾‹ |
|----------|----------|------|
| ç‰ˆæœ¬åŒ–æ–‡æ¡£ | ç›¸å¯¹è·¯å¾„ Markdown é“¾æ¥ | `[è®¡åˆ’](iteration_5_plan.md)` |
| ç‰ˆæœ¬åŒ–è¯æ®æ–‡ä»¶ | ç›¸å¯¹è·¯å¾„ Markdown é“¾æ¥ | `[è¯æ®](evidence/iteration_13_evidence.json)` |
| CI Run | å®Œæ•´ URL | `[CI #1234](https://github.com/.../runs/1234)` |
| CI Artifact | URL + è¯´æ˜ | `æŠ¥å‘Šè§ CI Artifacts (90 å¤©æœ‰æ•ˆ)` |
| æœ¬åœ°è‰ç¨¿ (`.iteration/`) | **ç¦æ­¢é“¾æ¥**ï¼Œä»…æ–‡æœ¬æåŠ | `å‚è€ƒ .iteration/ ä¸­çš„è‰ç¨¿` |
| è¿è¡Œæ—¶äº§ç‰© (`.artifacts/`) | **ç¦æ­¢é“¾æ¥**ï¼Œä»…æ–‡æœ¬æåŠ | `æœ¬åœ°äº§ç‰©ä½äº .artifacts/` |

**æ¨èçš„è¯æ®å¼•ç”¨æ–¹å¼**ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰ï¼š

1. **CI Run URL**ï¼šæœ€æ¨èï¼Œæ°¸ä¹…æœ‰æ•ˆä¸”å¯è¿½æº¯
   ```markdown
   > **CI Run**: [GitHub Actions #1234](https://github.com/.../actions/runs/1234)
   ```

2. **ç‰ˆæœ¬åŒ–è¯æ®æ–‡ä»¶é“¾æ¥**ï¼šé€‚ç”¨äºéœ€è¦ç»“æ„åŒ–æ•°æ®çš„åœºæ™¯
   ```markdown
   è¯¦ç»†è¯æ®è§ [iteration_13_evidence.json](evidence/iteration_13_evidence.json)
   ```

3. **æ–‡æ¡£å†…åµŒæ‘˜è¦**ï¼šé€‚ç”¨äºå…³é”®ä¿¡æ¯éœ€è¦åœ¨æ–‡æ¡£ä¸­ç›´æ¥å¯è§çš„åœºæ™¯
   ```markdown
   ## éªŒæ”¶è¯æ®

   | é—¨ç¦ | çŠ¶æ€ | è¯´æ˜ |
   |------|------|------|
   | `make ci` | âœ… PASS | å…¨éƒ¨é€šè¿‡ |
   | `make test` | âœ… PASS | 608 passed, 0 failed |
   ```

---

### 4. è¿ç§»ä¸å›æ»šç­–ç•¥

#### 4.1 ä»æ—§æ–‡æ¡£è¿ç§»

**è¿ç§»åœºæ™¯**ï¼šå°† `docs/architecture/iteration_X_plan.md` è¿ç§»åˆ° `docs/acceptance/`ã€‚

**è¿ç§»æ­¥éª¤**ï¼š

1. **åˆ›å»ºç›®æ ‡æ–‡æ¡£**
   ```bash
   cp docs/architecture/iteration_2_plan.md docs/acceptance/iteration_2_plan.md
   ```

2. **æ›´æ–°å†…å®¹æ ¼å¼**ï¼ˆæŒ‰æ¨¡æ¿è°ƒæ•´ï¼‰

3. **åˆ›å»º Stub**ï¼ˆåœ¨åŸä½ç½®ï¼‰
   ```markdown
   # Iteration 2 è®¡åˆ’

   > **Canonical æ–‡æ¡£**: [docs/acceptance/iteration_2_plan.md](../acceptance/iteration_2_plan.md)
   >
   > æœ¬æ–‡ä»¶ä¸º stubï¼Œè¯·å‚é˜…ä¸Šè¿° canonical æ–‡æ¡£è·å–æœ€æ–°å†…å®¹ã€‚
   >
   > **è¿ç§»æ—¥æœŸ**: 2026-02-01
   ```

4. **æ›´æ–°å¼•ç”¨**
   ```bash
   # æœç´¢æ‰€æœ‰æŒ‡å‘æ—§è·¯å¾„çš„é“¾æ¥
   rg -l 'architecture/iteration_2_plan' docs/
   # æ›´æ–°é“¾æ¥æŒ‡å‘æ–°ä½ç½®
   ```

5. **éªŒè¯**
   ```bash
   make docs-check  # éªŒè¯é“¾æ¥æœ‰æ•ˆæ€§
   ```

#### 4.2 Stub ä¿ç•™ç­–ç•¥

| æ¡ä»¶ | å¤„ç†æ–¹å¼ |
|------|----------|
| å¤–éƒ¨æœ‰é“¾æ¥æŒ‡å‘æ—§è·¯å¾„ | ä¿ç•™ Stubï¼Œç­‰å¾…å¼•ç”¨æ›´æ–° |
| ä»…å†…éƒ¨é“¾æ¥ | æ›´æ–°é“¾æ¥åå¯åˆ é™¤ Stub |
| é«˜é¢‘è®¿é—®è·¯å¾„ | ä¿ç•™ Stub è‡³å°‘ 1 ä¸ªè¿­ä»£å‘¨æœŸ |

#### 4.3 å›æ»šç­–ç•¥

**å¦‚éœ€å›æ»šè¿ç§»**ï¼š

1. æ¢å¤åŸæ–‡æ¡£å†…å®¹ï¼ˆä» Git å†å²ï¼‰
2. åˆ é™¤æˆ–æ›´æ–° Stub
3. æ›´æ–° `docs/acceptance/` ä¸­çš„æ–‡æ¡£ä¸º Stubï¼ˆæŒ‡å‘åŸä½ç½®ï¼‰
4. åœ¨ ADR ä¸­è®°å½•å›æ»šåŸå› 

---

### 5. ç¼–å·ä¸æ™‹å‡å†³ç­–

#### 5.1 ç¼–å·è§„åˆ™

| è§„åˆ™ | åç§° | è¯´æ˜ |
|------|------|------|
| **A** | **SSOT ç¼–å·ä¸å¤ç”¨** | `docs/acceptance/` ä¸­å·²å­˜åœ¨çš„ Iteration N ç¼–å·ï¼Œæ— è®ºçŠ¶æ€ï¼ˆPASS/PARTIAL/SUPERSEDED/...ï¼‰ï¼Œå‡ä¸å¯è¢«æ–°è¿­ä»£å¤ç”¨ |
| **B** | **è‰ç¨¿ç¼–å·çº¦æŸ** | `.iteration/<N>/` ä»…å…è®¸ç”¨äº**å°šæœªæ™‹å‡**çš„åŒç¼–å·è‰ç¨¿ï¼›è‹¥ N å·²åœ¨ `docs/acceptance/` å‡ºç°ï¼ˆæ— è®ºæ˜¯å¦ supersededï¼‰ï¼Œè‰ç¨¿å¿…é¡»æ”¹ç”¨æ–°ç¼–å· |
| **C** | **æ™‹å‡æ¡ä»¶** | è‹¥æœ¬è½®äº§ç‰©éœ€è¦**ç‰ˆæœ¬åŒ–ã€å›¢é˜Ÿå¯¹é½ã€å¯å®¡è®¡**ï¼Œåˆ™åº”æ™‹å‡ä¸ºæ–° Iterationï¼ˆå»ºè®®å– next available Nï¼‰ |
| **D** | **ç¦æ­¢ä¿®æ”¹æ—§æ–‡æ¡£æ‰¿è½½æ–°äº§ç‰©** | ä¸å¾—é€šè¿‡ä¿®æ”¹æ—§ superseded æ–‡æ¡£æ¥æ‰¿è½½æ–°è¿­ä»£äº§ç‰©ï¼›åº”åˆ›å»ºæ–° Iteration å¹¶åœ¨æ–°æ–‡æ¡£ä¸­å¼•ç”¨å†å²èƒŒæ™¯ |

#### 5.2 ç¼–å·åˆ†é…ç¤ºä¾‹

**åœºæ™¯ 1ï¼šæ–°åŠŸèƒ½è¿­ä»£**

å‡è®¾å½“å‰ `docs/acceptance/` æœ€é«˜ç¼–å·ä¸º Iteration 10ï¼š

```
å½“å‰çŠ¶æ€:
  docs/acceptance/iteration_10_regression.md  # çŠ¶æ€: âš ï¸ PARTIAL

æ–°è¿­ä»£åº”ä½¿ç”¨:
  .iteration/11/plan.md                       # æœ¬åœ°è‰ç¨¿
  .iteration/11/regression.md
        â†“ æ™‹å‡å
  docs/acceptance/iteration_11_plan.md        # SSOT
  docs/acceptance/iteration_11_regression.md
```

**åœºæ™¯ 2ï¼šè‰ç¨¿ç¼–å·å†²çª**

å‡è®¾ `.iteration/9/` å­˜åœ¨è‰ç¨¿ï¼Œä½† Iteration 9 å·²åœ¨ SSOT ä¸­ï¼ˆçŠ¶æ€ SUPERSEDEDï¼‰ï¼š

```
âŒ é”™è¯¯åšæ³•:
  .iteration/9/plan.md æ™‹å‡åˆ° docs/acceptance/iteration_9_plan.md
  # è¿åè§„åˆ™ Aï¼šç¼–å·å·²è¢«ä½¿ç”¨

âœ… æ­£ç¡®åšæ³•:
  é‡å‘½å .iteration/9/ ä¸º .iteration/11/
  ç„¶åæ™‹å‡åˆ° docs/acceptance/iteration_11_plan.md
```

**åœºæ™¯ 3ï¼šå»¶ç»­æ—§è¿­ä»£å·¥ä½œ**

è‹¥éœ€è¦å»¶ç»­ Iteration 9 çš„æœªå®Œæˆå·¥ä½œï¼š

```
âŒ é”™è¯¯åšæ³•:
  ä¿®æ”¹ docs/acceptance/iteration_9_regression.md æ·»åŠ æ–°å†…å®¹
  # è¿åè§„åˆ™ Dï¼šä¸å¯ä¿®æ”¹æ—§æ–‡æ¡£æ‰¿è½½æ–°äº§ç‰©

âœ… æ­£ç¡®åšæ³•:
  åˆ›å»º docs/acceptance/iteration_11_plan.md
  åœ¨æ–°æ–‡æ¡£ä¸­å¼•ç”¨: "å»¶ç»­ [Iteration 9](iteration_9_regression.md) çš„å·¥ä½œ..."
```

#### 5.3 æŸ¥è¯¢ä¸‹ä¸€å¯ç”¨ç¼–å·

```bash
# æŸ¥çœ‹å½“å‰æœ€é«˜ç¼–å·
ls docs/acceptance/iteration_*_*.md | \
  sed -E 's/.*iteration_([0-9]+)_.*/\1/' | \
  sort -n | tail -1

# è¾“å‡ºç¤ºä¾‹: 10
# ä¸‹ä¸€å¯ç”¨ç¼–å·: 11
```

#### 5.4 æ™‹å‡å†³ç­–æµç¨‹å›¾

```
æ˜¯å¦éœ€è¦ç‰ˆæœ¬åŒ–/å›¢é˜Ÿå¯¹é½/å¯å®¡è®¡ï¼Ÿ
    â”‚
    â”œâ”€ å¦ â†’ ä¿ç•™åœ¨ .iteration/ æœ¬åœ°è‰ç¨¿
    â”‚
    â””â”€ æ˜¯ â†’ æ£€æŸ¥ç›®æ ‡ç¼–å· N
              â”‚
              â”œâ”€ N å·²åœ¨ docs/acceptance/ å‡ºç°ï¼Ÿ
              â”‚     â”‚
              â”‚     â”œâ”€ æ˜¯ â†’ åˆ†é…æ–°ç¼–å· (next available)
              â”‚     â”‚
              â”‚     â””â”€ å¦ â†’ ä½¿ç”¨åŸç¼–å· N æ™‹å‡
              â”‚
              â””â”€ åˆ›å»º docs/acceptance/iteration_N_{plan,regression}.md
                 æ›´æ–° 00_acceptance_matrix.md ç´¢å¼•
```

---

### 6. SSOT è¾¹ç•Œä¸é SSOT æ–‡æ¡£å®šä¹‰

#### 6.1 SSOT è¾¹ç•Œå®šä¹‰

**è¿­ä»£ç›¸å…³æ–‡æ¡£çš„ SSOTï¼ˆSingle Source of Truthï¼‰è¾¹ç•Œå¦‚ä¸‹**ï¼š

| æ–‡æ¡£ç±»å‹ | SSOT ä½ç½® | æƒå¨æ€§ | è¯´æ˜ |
|----------|-----------|--------|------|
| **è¿­ä»£ç´¢å¼•ï¼ˆè·¨è¿­ä»£çŠ¶æ€ï¼‰** | `docs/acceptance/00_acceptance_matrix.md` | **å”¯ä¸€æƒå¨** | æ‰€æœ‰è¿­ä»£çš„çŠ¶æ€ã€é“¾æ¥ã€è¯´æ˜çš„å•ä¸€æ¥æº |
| **è¿­ä»£è®¡åˆ’** | `docs/acceptance/iteration_<N>_plan.md` | **å”¯ä¸€æƒå¨** | ç‰¹å®šè¿­ä»£çš„ç›®æ ‡ã€èŒƒå›´ã€éªŒæ”¶é—¨ç¦ |
| **è¿­ä»£å›å½’è®°å½•** | `docs/acceptance/iteration_<N>_regression.md` | **å”¯ä¸€æƒå¨** | ç‰¹å®šè¿­ä»£çš„å›å½’æµ‹è¯•æ‰§è¡Œè®°å½• |

#### 6.2 é SSOT æ–‡æ¡£ï¼ˆè¾…åŠ©ç´¢å¼•ï¼‰

ä»¥ä¸‹æ–‡æ¡£**ä¸æ˜¯ SSOT**ï¼Œä»…ä½œä¸ºè¾…åŠ©è§†å›¾æˆ–å¿«é€Ÿå‚è€ƒï¼š

| æ–‡æ¡£ | ä½ç½® | å®šä½ | ä¸ SSOT çš„å…³ç³» |
|------|------|------|----------------|
| **è¿­ä»£/å˜æ›´æ—¥å¿—** | `docs/dev/iteration_changelog.md` | **è¾…åŠ©ç´¢å¼•** | æä¾›æŒ‰æ—¥æœŸçª—å£çš„å˜æ›´æ‘˜è¦è§†å›¾ï¼›çŠ¶æ€ã€é“¾æ¥ä»¥ `00_acceptance_matrix.md` ä¸ºå‡† |
| **æœ¬åœ°è‰ç¨¿** | `.iteration/<N>/...` | **é SSOT** | ä»…æœ¬åœ°ä¸´æ—¶ç¬”è®°ï¼Œä¸çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œä¸å¯é“¾æ¥ |
| **å®¡è®¡æŠ¥å‘Šè‰ç¨¿** | `docs/acceptance/_drafts/` | **é SSOTï¼ˆå†å²æ ·ä¾‹ï¼‰** | ä¸€æ¬¡æ€§å®¡è®¡å¿«ç…§ï¼Œä»…ä½œä¸ºå†å²æ ·ä¾‹ä¿ç•™ï¼›æ–°å®¡è®¡è¯·ä½¿ç”¨è„šæœ¬ç”Ÿæˆ |
| **å®¡è®¡æŠ¥å‘Šè¾“å‡º** | `.artifacts/iteration-audit/` | **é SSOT** | è„šæœ¬ç”Ÿæˆçš„å®¡è®¡æŠ¥å‘Šï¼Œä¸çº³å…¥ç‰ˆæœ¬æ§åˆ¶ |

#### 6.3 å®¡è®¡å·¥å…·ä¸æŠ¥å‘Š

è¿­ä»£æ–‡æ¡£å®¡è®¡æœ‰ä¸¤ç§æ–¹å¼ï¼š

| å·¥å…· | ç”¨é€” | å‘½ä»¤ |
|------|------|------|
| **CI é—¨ç¦æ£€æŸ¥** | è‡ªåŠ¨åŒ–æ£€æŸ¥ SUPERSEDED ä¸€è‡´æ€§ï¼ˆé˜»æ–­å¼ï¼‰ | `make check-iteration-docs` |
| **å®¡è®¡æŠ¥å‘Šè„šæœ¬** | ç”Ÿæˆå®Œæ•´å®¡è®¡æŠ¥å‘Šï¼ˆéé˜»æ–­ï¼‰ | `make iteration-audit` |

**å®¡è®¡è„šæœ¬ç”¨æ³•**ï¼š

```bash
# è¾“å‡ºåˆ° stdout
python scripts/iteration/audit_iteration_docs.py

# è¾“å‡ºåˆ°æ–‡ä»¶
python scripts/iteration/audit_iteration_docs.py --output-dir .artifacts/iteration-audit

# è¯¦ç»†æ¨¡å¼
python scripts/iteration/audit_iteration_docs.py --verbose
```

**æ³¨æ„**ï¼šå®¡è®¡æŠ¥å‘Šä¸ºä¸€æ¬¡æ€§å¿«ç…§ï¼Œ**ä¸æ˜¯ SSOT**ã€‚CI é—¨ç¦ä»¥ `check_no_iteration_links_in_docs.py` ä¸ºå‡†ã€‚

#### 6.3 ç´¢å¼•ä¸€è‡´æ€§è§„åˆ™

ä¸ºé¿å…å¤šä¸ªç´¢å¼•é•¿æœŸäº’ç›¸çŸ›ç›¾ï¼Œéµå¾ªä»¥ä¸‹è§„åˆ™ï¼š

| è§„åˆ™ | è¦æ±‚ |
|------|------|
| **R-SSOT-1: çŠ¶æ€ä»¥ SSOT ä¸ºå‡†** | è¿­ä»£çŠ¶æ€ï¼ˆPASS/PARTIAL/SUPERSEDED ç­‰ï¼‰çš„æƒå¨æ¥æºæ˜¯ `00_acceptance_matrix.md`ï¼Œå…¶ä»–æ–‡æ¡£å¼•ç”¨æ—¶åº”ä½¿ç”¨ç›¸å¯¹é“¾æ¥è€Œéå¤åˆ¶çŠ¶æ€ |
| **R-SSOT-2: è¾…åŠ©ç´¢å¼•ä¸æ–°å¢çŠ¶æ€** | `iteration_changelog.md` ç­‰è¾…åŠ©æ–‡æ¡£å¯èšåˆ/æ‘˜è¦ä¿¡æ¯ï¼Œä½†ä¸å¾—å®šä¹‰æ–°çš„çŠ¶æ€å€¼æˆ–ä¸ SSOT çŸ›ç›¾çš„çŠ¶æ€ |
| **R-SSOT-3: å˜æ›´æ—¶åŒæ­¥æ›´æ–°** | å½“è¿­ä»£çŠ¶æ€å˜æ›´ï¼ˆå¦‚æ ‡è®°ä¸º SUPERSEDEDï¼‰æ—¶ï¼Œ**å¿…é¡»é¦–å…ˆæ›´æ–° SSOT**ï¼ˆ`00_acceptance_matrix.md` + regression å¤´éƒ¨ï¼‰ï¼Œè¾…åŠ©ç´¢å¼•çš„æ›´æ–°ä¸ºå¯é€‰ |
| **R-SSOT-4: è¾…åŠ©ç´¢å¼•å£°æ˜æ¥æº** | è¾…åŠ©ç´¢å¼•æ–‡æ¡£åº”åœ¨é¡¶éƒ¨å£°æ˜ SSOT æ¥æºï¼Œä¾‹å¦‚ `> **å•ä¸€æ¥æº**ï¼šå„è¿­ä»£è¯¦ç»†è®°å½•ä½äº docs/acceptance/iteration_*_regression.md` |

#### 6.4 iteration_changelog å®šä½è¯´æ˜

`docs/dev/iteration_changelog.md` çš„å®šä½ï¼š

- **ç”¨é€”**ï¼šæä¾›æŒ‰æ—¥æœŸçª—å£èšåˆçš„å˜æ›´æ‘˜è¦ï¼Œä¾¿äºå¿«é€Ÿæµè§ˆè¿‘æœŸå˜æ›´
- **é SSOT**ï¼šä¸ä½œä¸ºè¿­ä»£çŠ¶æ€çš„æƒå¨æ¥æº
- **æ›´æ–°ç­–ç•¥**ï¼š
  - çŠ¶æ€å˜æ›´æ—¶**å¯é€‰**åŒæ­¥æ›´æ–°ï¼ˆéå¼ºåˆ¶ï¼‰
  - è‹¥ä¸ SSOT çŸ›ç›¾ï¼Œä»¥ `00_acceptance_matrix.md` ä¸ºå‡†
  - é•¿æœŸä¸æ›´æ–°ä¸å½±å“ CI é—¨ç¦

---

## åæœ

### æ­£é¢

- **SSOT æ˜ç¡®**ï¼šè¿­ä»£æ–‡æ¡£ç»Ÿä¸€åœ¨ `docs/acceptance/`ï¼Œä¾¿äºæŸ¥æ‰¾
- **æœ¬åœ°éš”ç¦»**ï¼š`.iteration/` è‰ç¨¿ä¸ä¼šæ±¡æŸ“ç‰ˆæœ¬æ§åˆ¶
- **è¯æ®å¯è¿½æº¯**ï¼šæ˜ç¡®å“ªäº›è¯æ®ç‰ˆæœ¬åŒ–ã€å¦‚ä½•å¼•ç”¨ CI artifacts
- **å¹³æ»‘è¿ç§»**ï¼šStub ç­–ç•¥ä¿æŒå‘åå…¼å®¹

### è´Ÿé¢

- **ç›®å½•è°ƒæ•´**ï¼šç°æœ‰ `docs/architecture/iteration_X_plan.md` éœ€è¿ç§»
- **å­¦ä¹ æˆæœ¬**ï¼šå›¢é˜Ÿéœ€äº†è§£æ–°çš„å‘½åè§„èŒƒå’Œå¼•ç”¨çº¦æŸ

### é£é™©ä¸ç¼“è§£

| é£é™© | ç¼“è§£æªæ–½ |
|------|----------|
| è¿ç§»é—æ¼ | CI æ£€æŸ¥ `docs/architecture/iteration_*` ä¸åº”å­˜åœ¨ |
| `.iteration/` é“¾æ¥æ³„æ¼ | CI æ£€æŸ¥ç‰ˆæœ¬åŒ–æ–‡æ¡£ä¸­ä¸å¾—æœ‰ `.iteration/` é“¾æ¥ |
| Stub é“¾æ¥å¤±æ•ˆ | å®šæœŸå®¡è®¡ Stub æŒ‡å‘ |

---

## åˆè§„æ£€æŸ¥

### CI å·²å®ç°æ£€æŸ¥

ä»¥ä¸‹æ£€æŸ¥å·²åœ¨ CI ä¸­å®ç°å¹¶è‡ªåŠ¨æ‰§è¡Œï¼š

| æ£€æŸ¥é¡¹ | Makefile ç›®æ ‡ | CI Job | è„šæœ¬ |
|--------|---------------|--------|------|
| `.iteration/` é“¾æ¥ç¦æ­¢ + SUPERSEDED ä¸€è‡´æ€§ | `make check-iteration-docs` | `docs-iteration-links` | `scripts/ci/check_no_iteration_links_in_docs.py` |
| ä»… SUPERSEDED ä¸€è‡´æ€§æ£€æŸ¥ | `make check-iteration-docs-superseded-only` | - | `scripts/ci/check_no_iteration_links_in_docs.py --superseded-only` |

### æœ¬åœ°æ‰§è¡Œ

```bash
# ä¸€é”®æ‰§è¡Œæ‰€æœ‰è¿­ä»£æ–‡æ¡£æ£€æŸ¥ï¼ˆå…¨é‡ï¼š.iteration/ é“¾æ¥ + SUPERSEDED ä¸€è‡´æ€§ï¼‰
make check-iteration-docs

# ä»…æ‰§è¡Œ SUPERSEDED ä¸€è‡´æ€§æ£€æŸ¥
make check-iteration-docs-superseded-only

# æˆ–ç›´æ¥è°ƒç”¨è„šæœ¬ï¼ˆå…¨é‡æ£€æŸ¥ï¼‰
python scripts/ci/check_no_iteration_links_in_docs.py --verbose

# ä»…æ‰§è¡Œ SUPERSEDED ä¸€è‡´æ€§æ£€æŸ¥ï¼ˆè„šæœ¬æ–¹å¼ï¼‰
python scripts/ci/check_no_iteration_links_in_docs.py --superseded-only --verbose

# è·³è¿‡ SUPERSEDED æ£€æŸ¥ï¼ˆä»… .iteration/ é“¾æ¥æ£€æŸ¥ï¼‰
python scripts/ci/check_no_iteration_links_in_docs.py --skip-superseded-check --verbose
```

### SUPERSEDED ä¸€è‡´æ€§æ£€æŸ¥è§„åˆ™

å‚è§ [00_acceptance_matrix.md](../acceptance/00_acceptance_matrix.md) ä¸­çš„ã€ŒSUPERSEDED ä¸€è‡´æ€§è§„åˆ™ã€èŠ‚ï¼š

| è§„åˆ™ | è¦æ±‚ | ç¤ºä¾‹ |
|------|------|------|
| **R1: åç»§é“¾æ¥å¿…é¡»å­˜åœ¨** | è¯´æ˜å­—æ®µå¿…é¡»åŒ…å«"å·²è¢« Iteration X å–ä»£" | `å·²è¢« Iteration 10 å–ä»£` âœ… |
| **R2: åç»§å¿…é¡»åœ¨ç´¢å¼•è¡¨ä¸­** | è¢«å¼•ç”¨çš„åç»§è¿­ä»£å¿…é¡»å·²åœ¨æœ¬ç´¢å¼•è¡¨ä¸­å­˜åœ¨ | Iteration 10 å¿…é¡»æœ‰å¯¹åº”è¡Œ |
| **R3: åç»§æ’åºåœ¨ä¸Šæ–¹** | åç»§è¿­ä»£åœ¨è¡¨æ ¼ä¸­çš„ä½ç½®å¿…é¡»åœ¨è¢«å–ä»£è¿­ä»£ä¸Šæ–¹ | Iteration 10 è¡Œåœ¨ Iteration 9 è¡Œä¹‹ä¸Š |
| **R4: ç¦æ­¢ç¯å½¢å¼•ç”¨** | ä¸å…è®¸ Aâ†’Bâ†’A çš„å¾ªç¯å–ä»£é“¾ | `9â†’10â†’9` âŒ |
| **R5: ç¦æ­¢å¤šåç»§** | æ¯ä¸ªè¿­ä»£åªèƒ½æœ‰ä¸€ä¸ªç›´æ¥åç»§ | `å·²è¢« Iteration 10 å’Œ 11 å–ä»£` âŒ |
| **R6: regression æ–‡æ¡£å¤´éƒ¨å£°æ˜** | regression æ–‡ä»¶é¡¶éƒ¨å¿…é¡»æœ‰æ ‡å‡† superseded å£°æ˜åŒºå— | è§ä¸‹æ–¹ R6 æ ¼å¼è§„èŒƒ |

#### R6 æ ¼å¼è§„èŒƒä¸ç¤ºä¾‹

å½“è¿­ä»£çŠ¶æ€å˜æ›´ä¸º `ğŸ”„ SUPERSEDED` æ—¶ï¼Œå¯¹åº”çš„ `iteration_N_regression.md` æ–‡ä»¶**å‰ 20 è¡Œå†…**å¿…é¡»åŒ…å«å…³é”®çŸ­è¯­ `Superseded by Iteration M`ï¼Œä¸”åç»§ç¼–å· M å¿…é¡»ä¸ç´¢å¼•è¡¨ä¸€è‡´ã€‚

**CI æ£€æŸ¥é€»è¾‘**ï¼ˆ`scripts/ci/check_no_iteration_links_in_docs.py::check_regression_file_superseded_header`ï¼‰ï¼š
1. æ‰«ææ–‡ä»¶å‰ 20 è¡Œ
2. ä½¿ç”¨æ­£åˆ™ `Superseded\s+by\s+Iteration\s*(\d+)`ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰åŒ¹é…
3. éªŒè¯å£°æ˜ä¸­çš„åç»§ç¼–å·ä¸ç´¢å¼•è¡¨ä¸€è‡´

**æ¨èæ ¼å¼**ï¼ˆåœ¨æ ‡é¢˜ä¹‹å‰æ·»åŠ ï¼Œä»¥ä¾¿è¯»è€…ç¬¬ä¸€æ—¶é—´çœ‹åˆ°ï¼‰ï¼š

```markdown
> **âš ï¸ Superseded by Iteration M**
>
> æœ¬è¿­ä»£å·²è¢« [Iteration M](iteration_M_regression.md) å–ä»£ï¼Œä¸å†ç»´æŠ¤ã€‚
> è¯·å‚é˜…åç»­è¿­ä»£çš„å›å½’è®°å½•è·å–æœ€æ–°éªŒæ”¶çŠ¶æ€ã€‚

---

# Iteration N å›å½’éªŒè¯
ï¼ˆåŸæœ‰å†…å®¹ï¼‰
```

**æ ¼å¼çº¦æŸ**ï¼š

| çº¦æŸ | è¦æ±‚ |
|------|------|
| **ä½ç½®** | æ–‡ä»¶å‰ 20 è¡Œå†…ï¼ˆæ¨èåœ¨æ ‡é¢˜ä¹‹å‰ï¼Œä»¥ä¾¿è¯»è€…ç¬¬ä¸€æ—¶é—´çœ‹åˆ°ï¼‰ |
| **æ ¼å¼** | ä½¿ç”¨ blockquoteï¼ˆ`>`ï¼‰åŒ…è£¹ |
| **å…³é”®çŸ­è¯­** | å¿…é¡»åŒ…å« `Superseded by Iteration M` å­—æ ·ï¼ˆM ä¸ºåç»§è¿­ä»£ç¼–å·ï¼‰ |
| **åç»§é“¾æ¥** | **å¿…é¡»**ä½¿ç”¨ç›¸å¯¹è·¯å¾„ `[Iteration M](iteration_M_regression.md)` æ ¼å¼ï¼ŒæŒ‡å‘å®é™…å­˜åœ¨çš„åç»§è¿­ä»£å›å½’è®°å½• |
| **ç¼–å·ä¸€è‡´æ€§** | M å¿…é¡»ä¸ç´¢å¼•è¡¨ã€Œè¯´æ˜ã€å­—æ®µå£°æ˜çš„åç»§ç¼–å·ä¸€è‡´ |
| **åˆ†éš”çº¿** | å£°æ˜åå»ºè®®æ·»åŠ  `---` åˆ†éš”çº¿ï¼Œä¸åŸæœ‰å†…å®¹åˆ†éš” |

> **ç»Ÿä¸€ç¤ºä¾‹æ¥æº**ï¼šæœ¬æ ¼å¼è§„èŒƒä¸ [iteration_regression.template.md](../acceptance/_templates/iteration_regression.template.md) ä¿æŒä¸€è‡´ã€‚CI æ£€æŸ¥ä½¿ç”¨ `scripts/ci/check_no_iteration_links_in_docs.py` çš„ `check_regression_file_superseded_header` å‡½æ•°éªŒè¯ã€‚

**å†å²å†™æ³•å…¼å®¹æ€§**ï¼š

CI æ£€æŸ¥ä½¿ç”¨å®½æ¾æ­£åˆ™ `Superseded\s+by\s+Iteration\s*(\d+)`ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ï¼Œå¯å…¼å®¹ä»¥ä¸‹å†å²å˜ä½“ï¼š
- `Superseded by Iteration 10` âœ…
- `superseded by iteration10` âœ…
- `Superseded  by  Iteration  10` âœ…

ä½†**æ–°å»ºæ–‡ä»¶å¿…é¡»ä½¿ç”¨ä¸Šè¿°æ ‡å‡†æ ¼å¼**ã€‚å†å²æ–‡ä»¶å¦‚ä¸ç¬¦åˆæ ‡å‡†æ ¼å¼ï¼Œå»ºè®®åœ¨ä¸‹æ¬¡ç¼–è¾‘æ—¶ä¸€å¹¶æ›´æ–°ä¸ºæ ‡å‡†æ ¼å¼ï¼ˆæ— å…¼å®¹çª—å£ï¼Œç›´æ¥è¿ç§»ï¼‰ã€‚

### æ‰‹åŠ¨æ£€æŸ¥é¡¹ï¼ˆå»ºè®®ï¼‰

```bash
# 1. æ£€æŸ¥è¿­ä»£æ–‡æ¡£å‘½åè§„èŒƒ
ls docs/acceptance/iteration_*.md | grep -v -E 'iteration_[0-9]+_(plan|regression)\.md' && echo "FAIL: å‘½åä¸è§„èŒƒ"

# 2. æ£€æŸ¥æ—§ä½ç½®è¿­ä»£æ–‡æ¡£ï¼ˆåº”è¿ç§»æˆ–ä¸º Stubï¼‰
for f in docs/architecture/iteration_*_plan.md; do
  head -5 "$f" | grep -q 'Canonical' || echo "WARN: $f åº”è¿ç§»æˆ–è½¬ä¸º Stub"
done
```

---

## å‚è€ƒ

- [adr_docs_information_architecture.md](adr_docs_information_architecture.md) - æ–‡æ¡£ä¿¡æ¯æ¶æ„
- [docs_legacy_retention_policy.md](docs_legacy_retention_policy.md) - é—ç•™èµ„äº§ä¿ç•™ç­–ç•¥
- [docs/acceptance/00_acceptance_matrix.md](../acceptance/00_acceptance_matrix.md) - éªŒæ”¶æµ‹è¯•çŸ©é˜µ

---

## å˜æ›´è®°å½•

| æ—¥æœŸ | ç‰ˆæœ¬ | å˜æ›´å†…å®¹ |
|------|------|----------|
| 2026-02-01 | v1.0 | åˆå§‹ç‰ˆæœ¬ï¼šå®šä¹‰è¿­ä»£æ–‡æ¡£ SSOTã€`.iteration/` å®šä½ã€è¯æ®ç­–ç•¥ã€è¿ç§»æµç¨‹ |
| 2026-02-01 | v1.1 | å¢è¡¥ã€Œç¼–å·ä¸æ™‹å‡å†³ç­–ã€ç« èŠ‚ï¼šè§„åˆ™ A/B/C/Dã€ç¼–å·åˆ†é…ç¤ºä¾‹ã€æ™‹å‡å†³ç­–æµç¨‹å›¾ |
| 2026-02-01 | v1.2 | å¢è¡¥ã€Œåˆè§„æ£€æŸ¥ã€ç« èŠ‚ï¼šè®°å½• CI å·²å®ç°æ£€æŸ¥ï¼ˆ.iteration/ é“¾æ¥ + SUPERSEDED ä¸€è‡´æ€§ï¼‰ã€æœ¬åœ°æ‰§è¡Œå‘½ä»¤ã€SUPERSEDED è§„åˆ™ R1-R6 |
| 2026-02-01 | v1.3 | å¢è¡¥ã€ŒR6 æ ¼å¼è§„èŒƒä¸ç¤ºä¾‹ã€ï¼šç»Ÿä¸€æ–‡æ¡£å¤´éƒ¨é”šç‚¹æ ¼å¼ï¼Œä¸ template å’Œ workflow ä¿æŒä¸€è‡´ |
| 2026-02-01 | v1.4 | å¢è¡¥ã€ŒSSOT è¾¹ç•Œä¸é SSOT æ–‡æ¡£å®šä¹‰ã€ç« èŠ‚ï¼šå®šä¹‰ SSOT è¾¹ç•Œã€é SSOT æ–‡æ¡£ï¼ˆå¦‚ iteration_changelogï¼‰å®šä½ã€ç´¢å¼•ä¸€è‡´æ€§è§„åˆ™ R-SSOT-1~4 |
| 2026-02-02 | v1.5 | å¢è¡¥ã€Œå®¡è®¡å·¥å…·ä¸æŠ¥å‘Šã€ï¼šå®šä¹‰ `_drafts/` ä¸ºå†å²æ ·ä¾‹ï¼ˆé SSOTï¼‰ã€æ–°å¢ `audit_iteration_docs.py` è„šæœ¬ç”ŸæˆæŠ¥å‘Š |
| 2026-02-02 | v1.6 | ç»Ÿä¸€ R6 æ ¼å¼è§„èŒƒï¼šå‰ 20 è¡Œå†…å¿…é¡»åŒ…å« `Superseded by Iteration M`ã€åç»§ç¼–å·ä¸ç´¢å¼•è¡¨ä¸€è‡´ã€ä¸ CI è„šæœ¬å®ç°å¯¹é½ |
| 2026-02-02 | v1.7 | å¢è¡¥ã€Œ2.2 å¼•ç”¨çº¦æŸã€ï¼šæ·»åŠ å¼•ç”¨ç±»å‹è¡¨æ ¼ã€æ˜ç¡®ç¦æ­¢é¡¹ï¼ˆMarkdown é“¾æ¥ï¼‰ä¸å…è®¸é¡¹ï¼ˆæ–‡æœ¬/inline code æåŠï¼‰ |
| 2026-02-02 | v1.8 | æ›´æ–°å®¡è®¡å·¥å…·å‘½ä»¤ï¼š`make iteration-audit` æ›¿ä»£ç›´æ¥è„šæœ¬è°ƒç”¨ |
| 2026-02-02 | v1.8 | å¢è¡¥ã€Œ2.4 è·¨äººåä½œä¸å¯é“¾æ¥å¼•ç”¨ã€ï¼šå£°æ˜ `.iteration/` å­˜åœ¨æ€§ä¸ä¿è¯ã€å®šä¹‰è·¨äººåä½œåœºæ™¯çš„å…¥å£é€‰æ‹©ï¼ˆSSOT/å¯¼å‡ºåˆ†äº«åŒ…/æ–‡æœ¬æç¤ºï¼‰ |
| 2026-02-02 | v1.9 | å¢è¡¥ã€Œ3.4 Nightly å®¡è®¡æŠ¥å‘Šç­–ç•¥ã€ï¼šå®šä¹‰ nightly å®¡è®¡æŠ¥å‘Šå®šä½ï¼ˆé SSOTã€ä»…è§‚å¯Ÿã€90 å¤©ä¿ç•™ï¼‰ |
| 2026-02-02 | v1.10 | å¢è¡¥ã€Œ3.5 ç‰ˆæœ¬åŒ–è¯æ®æ–‡ä»¶ã€ï¼šå®šä¹‰ `docs/acceptance/evidence/` ç‰ˆæœ¬åŒ–è¯æ®æ–‡ä»¶è§„èŒƒï¼Œæ˜ç¡® `.artifacts/` å¼•ç”¨çº¦æŸï¼ˆä¸ `.iteration/` ä¸€è‡´ç¦æ­¢ Markdown é“¾æ¥ï¼‰ï¼Œæ‰©å±•è¯æ®å¼•ç”¨æ¨èæ ¼å¼ |
| 2026-02-02 | v1.11 | å¢è¡¥è¯æ®æ ¼å¼ SSOTï¼šå¼•ç”¨ `schemas/iteration_evidence_v1.schema.json` ä½œä¸ºç‰ˆæœ¬åŒ–è¯æ®æ–‡ä»¶çš„æ ¼å¼ SSOTï¼Œæ·»åŠ  Schema çº¦æŸæ‘˜è¦è¡¨æ ¼åŠå®‰å…¨çº¦æŸè¯´æ˜ |
| 2026-02-02 | v1.12 | æ”¶æ•›ã€Œ3.5 ç‰ˆæœ¬åŒ–è¯æ®æ–‡ä»¶ã€å‘½åè§„èŒƒä¸ºç»Ÿä¸€å¥—ï¼ˆcanonical + snapshotï¼‰ã€æ·»åŠ å›å½’æ–‡æ¡£å¼•ç”¨ç­–ç•¥ã€è¡¥å……å ä½ç¬¦/è‰ç¨¿ç­–ç•¥åŠå¯æ‰§è¡Œæ¸…å• |
